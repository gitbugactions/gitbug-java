{"repository": "gitbucket/markedj", "language": "java", "clone_url": "https://github.com/gitbucket/markedj.git", "collection_timestamp": "2023-11-23T07:06:20.718313Z", "commit_hash": "2dce74e1208340c7738970613f435185d71f640e", "commit_message": "add hard line break when backslash at EOL (#41)\n\n* add hard line break when backslash at EOL\r\n\r\nafter https://github.com/markedjs/marked/commit/47cf2b2c:\r\nA backslash at the end of the line is a hard line break.\r\n\r\nRef: https://spec.commonmark.org/0.28/#example-293\r\n\r\n* add tests for hard line break", "commit_timestamp": "2023-07-19T22:28:33Z", "previous_commit_hash": "2881d5b54714f2ff970365013b6cbaf304c37884", "previous_commit_message": "Bump maven-source-plugin from 3.2.1 to 3.3.0\n\nBumps [maven-source-plugin](https://github.com/apache/maven-source-plugin) from 3.2.1 to 3.3.0.\n- [Commits](https://github.com/apache/maven-source-plugin/compare/maven-source-plugin-3.2.1...maven-source-plugin-3.3.0)\n\n---\nupdated-dependencies:\n- dependency-name: org.apache.maven.plugins:maven-source-plugin\n  dependency-type: direct:production\n  update-type: version-update:semver-minor\n...\n\nSigned-off-by: dependabot[bot] <support@github.com>", "previous_commit_timestamp": "2023-05-22T09:05:26Z", "time_to_patch": "58 days, 13:23:07", "bug_patch": "diff --git a/src/main/java/io/github/gitbucket/markedj/Grammer.java b/src/main/java/io/github/gitbucket/markedj/Grammer.java\nindex f7f2312..a9945d1 100644\n--- a/src/main/java/io/github/gitbucket/markedj/Grammer.java\n+++ b/src/main/java/io/github/gitbucket/markedj/Grammer.java\n@@ -77,7 +77,7 @@ public class Grammer {\n \n     public static String INLINE_ESCAPE = \"^\\\\\\\\([\\\\\\\\`*{}\\\\[\\\\]()#+\\\\-.!_>])\";\n     public static String INLINE_TEXT   = \"^[\\\\s\\\\S]+?(?=[\\\\\\\\<!\\\\[_*`]| {2,}\\\\n|$)\";\n-    public static String INLINE_BR     = \"^ {2,}\\\\n(?!\\\\s*$)\";\n+    public static String INLINE_BR     = \"^( {2,}|\\\\\\\\)\\\\n(?!\\\\s*$)\";\n \n     static {\n         INLINE_RULES.put(\"escape\", new FindFirstRule(INLINE_ESCAPE));\n", "bug_patch_file_extensions": ["java"], "test_patch": "diff --git a/src/test/java/io/github/gitbucket/markedj/MarkedTest.java b/src/test/java/io/github/gitbucket/markedj/MarkedTest.java\nindex e5efd61..f14a857 100644\n--- a/src/test/java/io/github/gitbucket/markedj/MarkedTest.java\n+++ b/src/test/java/io/github/gitbucket/markedj/MarkedTest.java\n@@ -264,4 +264,20 @@ public class MarkedTest {\n             in.close();\n         }\n     }\n+\n+    @Test\n+    public void testHardLineBreakWithSpaces() {\n+        String result = Marked.marked(\"Line 1  \\n\" +\n+                \"Line 2\");\n+        assertEquals(\"<p>Line 1<br>\\n\" +\n+                \" Line 2</p>\", result);\n+    }\n+\n+    @Test\n+    public void testHardLineBreakWithBackslash() {\n+        String result = Marked.marked(\"Line 1\\\\\\n\" +\n+                \"Line 2\");\n+        assertEquals(\"<p>Line 1<br>\\n\" +\n+                \" Line 2</p>\", result);\n+    }\n }\n", "test_patch_file_extensions": ["java"], "non_code_patch": "", "non_code_patch_file_extensions": [], "change_type": "SOURCE_ONLY", "actions_runs": [[{"failed": false, "tests": [{"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testAutolink", "time": 0.152, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testSanitize", "time": 0.006, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testStackoverFlow2", "time": 0.066, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testIns", "time": 0.001, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testEmptyTableCell", "time": 0.012, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testEmptyItemOfList", "time": 0.005, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testFencedCodeBlock", "time": 0.002, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testQuote", "time": 0.005, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testNestedContentOfList", "time": 0.002, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testEm", "time": 0.001, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testHr", "time": 0.001, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testCodeBlock", "time": 0.02, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testStackoverFlow", "time": 0.106, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testMarked2", "time": 0.066, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testMarked3", "time": 0.002, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testReflink", "time": 0.002, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testInvalidColumnTable", "time": 0.002, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testBreaks", "time": 0.001, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testMarked", "time": 0.006, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testParagraphSeparation", "time": 0.0, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testStrong", "time": 0.001, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testNptable", "time": 0.002, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}], "workflow": {"path": "/tmp/29b490ea-0364-4730-a7ba-38423ca06124/.github/workflows/build-crawler.yml", "type": "maven"}, "workflow_name": "d7703c14-917d-4346-94a2-e0b618dd3619", "build_tool": "maven", "elapsed_time": 84.89018630981445, "default_actions": false}], [{"failed": false, "tests": [{"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testAutolink", "time": 0.155, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testHardLineBreakWithSpaces", "time": 0.0, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testSanitize", "time": 0.008, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testStackoverFlow2", "time": 0.052, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testIns", "time": 0.009, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testEmptyTableCell", "time": 0.001, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testEmptyItemOfList", "time": 0.002, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testFencedCodeBlock", "time": 0.005, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testQuote", "time": 0.0, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testNestedContentOfList", "time": 0.01, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testEm", "time": 0.002, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testHr", "time": 0.001, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testCodeBlock", "time": 0.001, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testStackoverFlow", "time": 0.094, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testHardLineBreakWithBackslash", "time": 0.029, "results": [{"result": "Failure", "message": "expected:<<p>Line 1[<br> ] Line 2</p>> but was:<<p>Line 1[\\] Line 2</p>>", "type": "org.junit.ComparisonFailure"}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testMarked2", "time": 0.229, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testMarked3", "time": 0.003, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testReflink", "time": 0.001, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testInvalidColumnTable", "time": 0.01, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testBreaks", "time": 0.002, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testMarked", "time": 0.012, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testParagraphSeparation", "time": 0.001, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testStrong", "time": 0.0, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testNptable", "time": 0.003, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}], "workflow": {"path": "/tmp/29b490ea-0364-4730-a7ba-38423ca06124/.github/workflows/build-crawler.yml", "type": "maven"}, "workflow_name": "aa9ce79b-91ab-4e9c-bcb8-93a1fe9eca2b", "build_tool": "maven", "elapsed_time": 74.62509107589722, "default_actions": false}], [{"failed": false, "tests": [{"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testAutolink", "time": 0.184, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testHardLineBreakWithSpaces", "time": 0.001, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testSanitize", "time": 0.011, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testStackoverFlow2", "time": 0.06, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testIns", "time": 0.004, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testEmptyTableCell", "time": 0.012, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testEmptyItemOfList", "time": 0.003, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testFencedCodeBlock", "time": 0.0, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testQuote", "time": 0.001, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testNestedContentOfList", "time": 0.01, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testEm", "time": 0.003, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testHr", "time": 0.002, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testCodeBlock", "time": 0.001, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testStackoverFlow", "time": 0.103, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testHardLineBreakWithBackslash", "time": 0.002, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testMarked2", "time": 0.414, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testMarked3", "time": 0.006, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testReflink", "time": 0.001, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testInvalidColumnTable", "time": 0.006, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testBreaks", "time": 0.001, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testMarked", "time": 0.025, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testParagraphSeparation", "time": 0.001, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testStrong", "time": 0.0, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "io.github.gitbucket.markedj.MarkedTest", "name": "testNptable", "time": 0.003, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}], "workflow": {"path": "/tmp/29b490ea-0364-4730-a7ba-38423ca06124/.github/workflows/build-crawler.yml", "type": "maven"}, "workflow_name": "1b0c476f-05fe-4719-afc2-6ad2734ec9f5", "build_tool": "maven", "elapsed_time": 66.91766238212585, "default_actions": false}]], "strategy": "PASS_PASS", "issues": [{"id": 41, "title": "add hard line break when backslash at EOL", "body": "after https://github.com/markedjs/marked/commit/47cf2b2c:\r\nA backslash at the end of the line is a hard line break.\r\n\r\nRef: https://spec.commonmark.org/0.28/#example-293", "comments": ["@macmarrum Thank you! It would be great if you can add a test case to https://github.com/gitbucket/markedj/blob/master/src/test/java/io/github/gitbucket/markedj/MarkedTest.java"], "labels": [], "is_pull_request": true, "review_comments": []}]}
